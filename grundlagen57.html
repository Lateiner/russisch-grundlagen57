<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sprachassistent Russisch: Adjektive im Akkusativ</title>
    <!-- Polyfill für Touch-Geräte -->
    <script src="https://cdn.jsdelivr.net/npm/drag-drop-touch@1.3.1/DragDropTouch.js"></script>
    <style>
        :root {
            --primary-color: #2c3e50;
            --accent-color: #3498db;
            --success-color: #27ae60;
            --error-color: #e74c3c;
            --bg-color: #f4f7f6;
            --card-bg: #ffffff;
            --correct-bg: #dff0d8;
            --incorrect-bg: #f2dede;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--primary-color);
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: var(--card-bg);
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        h1, h2, h3 {
            text-align: center;
        }

        .intro-box {
            background: #eef2f7;
            padding: 20px;
            border-left: 5px solid var(--accent-color);
            margin-bottom: 30px;
            border-radius: 4px;
        }

        .exercise-card {
            border: 1px solid #ddd;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            background: #fafafa;
            transition: background 0.3s;
        }

        .instruction {
            font-weight: bold;
            display: block;
            margin-bottom: 10px;
            color: var(--primary-color);
        }

        .task-content {
            margin: 15px 0;
            font-size: 1.15rem;
        }

        /* Form-Elemente */
        select {
            padding: 8px;
            border-radius: 4px;
            border: 2px solid #ccc;
            font-size: 1.1rem;
            outline: none;
            transition: all 0.3s;
        }

        /* Feedback-Farben */
        .feedback-correct {
            background-color: var(--correct-bg) !important;
            border-color: var(--success-color) !important;
            color: #3c763d !important;
        }

        .feedback-incorrect {
            background-color: var(--incorrect-bg) !important;
            border-color: var(--error-color) !important;
            color: #a94442 !important;
        }

        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        button {
            padding: 8px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .btn-reset { background-color: #95a5a6; color: white; }
        .btn-solution { background-color: var(--accent-color); color: white; }
        button:hover { opacity: 0.8; }

        /* Drag and Drop Styling */
        .drag-options {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
            flex-wrap: wrap;
        }

        .draggable {
            padding: 5px 12px;
            background: #fff;
            border: 2px solid var(--accent-color);
            border-radius: 4px;
            cursor: grab;
            user-select: none;
        }

        .dropzone {
            display: inline-block;
            min-width: 80px;
            height: 32px;
            border-bottom: 2px dashed var(--accent-color);
            vertical-align: middle;
            text-align: center;
            padding: 0 10px;
            font-weight: bold;
            border-radius: 4px 4px 0 0;
        }

        /* Radio Buttons */
        .radio-option {
            display: block;
            padding: 8px;
            border-radius: 4px;
            margin: 4px 0;
            border: 1px solid transparent;
        }

        @media (max-width: 600px) {
            .container { padding: 15px; }
            .btn-group { flex-direction: column; }
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Russische Grammatik</h1>
    <h2>Grundlagen: Adjektive im Akkusativ (Fall 4)</h2>

    <div class="intro-box">
        <p>Erinnerung zur Deklination:</p>
        <ul>
            <li>Maskulin unbelebt & Neutrum: Keine Änderung (wie Nominativ).</li>
            <li>Maskulin belebt: Endung wird ОГО oder ЕГО.</li>
            <li>Feminin (immer): Endung wird УЮ oder ЮЮ.</li>
        </ul>
    </div>

    <div id="exercise-list"></div>
</div>

<script>
const tasks = [
    { id: 1, type: "select", instruction: "Wähle die Endung für Maskulin Unbelebt:", sentence: "Я вижу новый телефо____.", options: ["н", "на"], answer: "н" },
    { id: 2, type: "select", instruction: "Wähle die Endung für Maskulin Belebt:", sentence: "Мы знаем стар____ профессора.", options: ["ый", "ого", "ую"], answer: "ого" },
    { id: 3, type: "select", instruction: "Wähle die Endung für Feminin:", sentence: "Она читаet интересн____ книгу.", options: ["ая", "ую", "ого"], answer: "ую" },
    { id: 4, type: "select", instruction: "Wähle die Endung für Neutrum:", sentence: "Я вижу красив____ море.", options: ["ое", "ого", "ую"], answer: "ое" },
    { id: 5, type: "select", instruction: "Weiche Deklination (Feminin):", sentence: "Мы купили син____ ручку.", options: ["яя", "юю", "ее"], answer: "юю" },
    { id: 6, type: "radio", instruction: "Ist der Satz korrekt? „Я вижу русский словарь.“", options: ["Ja", "Nein"], answer: "Ja" },
    { id: 7, type: "radio", instruction: "Welches Fragewort passt zu „хорошего врача“?", options: ["Какого?", "Какую?", "Какое?"], answer: "Какого?" },
    { id: 8, type: "select", instruction: "Nach Zischlaut (betont):", sentence: "Я вижу больш____ собаку.", options: ["ую", "ого", "ой"], answer: "ую" },
    { id: 9, type: "select", instruction: "Nach Zischlaut (unbetont, belebt):", sentence: "Ты знаешь хорош____ студенta?", options: ["его", "ого", "ий"], answer: "его" },
    { id: 10, type: "select", instruction: "Adjektiv русский (Feminin):", sentence: "Я люблю русск____ музыку.", options: ["ую", "ая", "ое"], answer: "ую" },
    { id: 11, type: "drag", instruction: "Ziehe die Endung: „Я вижу стар____ друга.“", sentence: "Я вижу стар____ друга.", dragOptions: ["ого", "ый", "ую"], answer: "ого" },
    { id: 12, type: "drag", instruction: "Ziehe die Endung: „Она слышит громк____ музыку.“", sentence: "Она слышит громк____ музыку.", dragOptions: ["ую", "ая", "ого"], answer: "ую" },
    { id: 13, type: "drag", instruction: "Ziehe die Endung (Neutrum): „Я пью горяч____ молоко.“", sentence: "Я пью горяч____ молоко.", dragOptions: ["ее", "его", "ую"], answer: "ее" },
    { id: 14, type: "drag", instruction: "Ziehe die Endung (Maskulin belebt): „Я вижу син____ кита.“", sentence: "Я вижу син____ кита.", dragOptions: ["его", "ий", "юю"], answer: "его" },
    { id: 15, type: "select", instruction: "Fragewort für „книгу“:", sentence: "____ книгу ты читаешь?", options: ["Какую", "Какого", "Какой"], answer: "Какую" },
    { id: 16, type: "select", instruction: "Fragewort für „студента“:", sentence: "____ студента ты знаешь?", options: ["Какого", "Какую", "Какое"], answer: "Какого" },
    { id: 17, type: "select", instruction: "Form von „младший“ (belebt):", sentence: "Я встретил младш____ брата.", options: ["его", "ий", "ую"], answer: "его" },
    { id: 18, type: "select", instruction: "Form von „большой“ (unbelebt):", sentence: "Мы купили больш____ телевизор.", options: ["ой", "ого", "ую"], answer: "ой" },
    { id: 19, type: "select", instruction: "Form von „прекрасный“ (Feminin):", sentence: "Она рисует прекрасн____ картину.", options: ["ую", "ая", "ого"], answer: "ую" },
    { id: 20, type: "radio", instruction: "Ist das korrekt? „Я вижу синего карандаш.“", options: ["Richtig", "Falsch"], answer: "Falsch" }
];

function renderTasks() {
    const list = document.getElementById('exercise-list');
    tasks.forEach((t, i) => {
        const card = document.createElement('div');
        card.className = 'exercise-card';
        card.id = `card-${t.id}`;
        
        let html = `<span class="instruction">${i + 1}. ${t.instruction}</span>`;
        
        if (t.type === "select") {
            const parts = t.sentence.split("____");
            html += `<div class="task-content">${parts[0]}<select id="input-${t.id}" onchange="validateSelect(${t.id})">
                <option value="">--</option>
                ${t.options.map(o => `<option value="${o}">${o}</option>`).join('')}
            </select>${parts[1]}</div>`;
        } else if (t.type === "radio") {
            html += `<div class="task-content" id="input-${t.id}">
                ${t.options.map(o => `<label class="radio-option" id="label-${t.id}-${o}"><input type="radio" name="r-${t.id}" value="${o}" onchange="validateRadio(${t.id}, '${o}')"> ${o}</label>`).join('')}
            </div>`;
        } else if (t.type === "drag") {
            const parts = t.sentence.split("____");
            html += `
                <div class="drag-options">
                    ${t.dragOptions.map(o => `<div class="draggable" draggable="true" ondragstart="onDragStart(event)" id="drag-${t.id}-${o}">${o}</div>`).join('')}
                </div>
                <div class="task-content">${parts[0]}<div class="dropzone" id="input-${t.id}" ondrop="onDrop(event, ${t.id})" ondragover="onDragOver(event)"></div>${parts[1]}</div>
            `;
        }

        html += `<div class="btn-group">
            <button class="btn-reset" onclick="resetTask(${t.id})">Zurücksetzen</button>
            <button class="btn-solution" onclick="showSolution(${t.id})">Lösung anzeigen</button>
        </div>`;
        
        card.innerHTML = html;
        list.appendChild(card);
    });
}

// Validierung
function validateSelect(id) {
    const el = document.getElementById(`input-${id}`);
    const task = tasks.find(t => t.id === id);
    el.classList.remove('feedback-correct', 'feedback-incorrect');
    if (el.value === "") return;
    el.classList.add(el.value === task.answer ? 'feedback-correct' : 'feedback-incorrect');
}

function validateRadio(id, val) {
    const task = tasks.find(t => t.id === id);
    const options = task.options;
    options.forEach(o => {
        document.getElementById(`label-${id}-${o}`).classList.remove('feedback-correct', 'feedback-incorrect');
    });
    const label = document.getElementById(`label-${id}-${val}`);
    label.classList.add(val === task.answer ? 'feedback-correct' : 'feedback-incorrect');
}

// Drag & Drop
function onDragStart(ev) {
    ev.dataTransfer.setData("text", ev.target.innerText);
}
function onDragOver(ev) { ev.preventDefault(); }
function onDrop(ev, id) {
    ev.preventDefault();
    const data = ev.dataTransfer.getData("text");
    const el = document.getElementById(`input-${id}`);
    const task = tasks.find(t => t.id === id);
    el.innerText = data;
    el.classList.remove('feedback-correct', 'feedback-incorrect');
    el.classList.add(data === task.answer ? 'feedback-correct' : 'feedback-incorrect');
}

// Buttons
function resetTask(id) {
    const task = tasks.find(t => t.id === id);
    const el = document.getElementById(`input-${id}`);
    if (task.type === "select") {
        el.value = "";
        el.classList.remove('feedback-correct', 'feedback-incorrect');
    } else if (task.type === "radio") {
        task.options.forEach(o => {
            const l = document.getElementById(`label-${id}-${o}`);
            l.classList.remove('feedback-correct', 'feedback-incorrect');
            l.querySelector('input').checked = false;
        });
    } else if (task.type === "drag") {
        el.innerText = "";
        el.classList.remove('feedback-correct', 'feedback-incorrect');
    }
}

function showSolution(id) {
    const task = tasks.find(t => t.id === id);
    const el = document.getElementById(`input-${id}`);
    
    if (task.type === "select") {
        el.value = task.answer;
        el.classList.remove('feedback-incorrect');
        el.classList.add('feedback-correct');
    } else if (task.type === "radio") {
        task.options.forEach(o => {
            document.getElementById(`label-${id}-${o}`).classList.remove('feedback-correct', 'feedback-incorrect');
        });
        const correctLabel = document.getElementById(`label-${id}-${task.answer}`);
        correctLabel.querySelector('input').checked = true;
        correctLabel.classList.add('feedback-correct');
    } else if (task.type === "drag") {
        el.innerText = task.answer;
        el.classList.remove('feedback-incorrect');
        el.classList.add('feedback-correct');
    }
}

window.onload = renderTasks;
</script>
</body>
</html>